{"mappings":"qHAAO,MAAMA,EAAW,CAAIC,EAAKC,KAC/B,MACMC,EAAOD,EAAKE,MAAK,KAEvB,IAAIC,EAASJ,MACR,IAAIK,KAAOH,EAGd,GAFAE,EAASA,EAAOC,QAEDC,IAAXF,EAAoB,OAPL,aAYdA,MAAAA,GAAAA,WCVPG,WAAU,8BAEEC,QACLC,UAAYD,EAGnBE,QAAQC,EAAKC,eACCC,OAAOF,EAAKC,GAG1BC,OAAM,CAAIF,EAAKC,KACb,MAAME,EAAOC,SAASC,cAAcJ,GAC9BK,EAAIC,KAAQC,iBAAiBR,GACnCG,EAAKM,UAAS,GAEdN,EAAKO,mBAAkB,YAAcJ,IAGvCE,iBAAoBR,IAClB,IAAIM,EAAIC,KAAQT,UACZJ,EAAM,KACV,MAAMiB,EAAMJ,KAAQX,gBAEZF,EAAMiB,EAAOC,KAAKN,OACpBZ,EAAI,GAAI,CACV,MAAMmB,EAAYnB,EAAI,GAAGoB,OACnBC,EAAO3B,EAAYY,EAAKa,GACxBG,EACO,mBAAJD,EAAmB,GAAMF,MAAgBE,EAElDT,EAAOA,EAAKW,QAAQ,IAAIC,OAAOxB,EAAI,GAAC,MAAUsB,UAI3CV,OCjCXa,EAYC,KATCC,OAAOC,YAAW,KC4CnB,MA3CCD,OAAOE,aAAY,KACjBC,KAGFH,OAAOI,UAAS,KACdL,KAGF,MAAMJ,EAAI,CACRU,KAAI,UACEC,KAAF,QACCJ,aAASF,OAAOE,aACrBE,UAAWJ,OAAOI,UAClBG,OAAM,IACNC,MAAK,CACHC,MAAK,QACAC,MAAA,QAEHC,WAAM,CACRF,MAAK,MACFC,MAAE,cAEPE,YAAW,CACTH,MAAK,UACEC,MAAF,WAEAG,aAAK,CACVJ,MAAK,aACGC,MAAH,cAEPI,MAAK,CACHL,MAAK,SACLC,MAAK,SAEFK,MAAA,CACHN,MAAK,UACEC,MAAF,eAEPM,cAAa,mBACEC,eAAD,mBAGH,IAAIC,0vEAAoBvC,QAAQgB,EAAI,UD1C/CwB,IAGF,MAAMxB,EAAI,CACRM,YAAaD,OAAOC,aAGT,IAAIiB,odAAoBvC,QAAQgB,EAAI,UEVnDQ,EAwBC,KArBCH,OAAOoB,iBAAgB,KCoBxB,MArBCpB,OAAOE,aAAY,KACjBC,KAGF,MAAMR,EAAI,CACR0B,SAAQ,cACGC,KAAP,OACAC,OAAE,qBACYrB,aAAJF,OAAOE,aACrBO,MAAK,CACHD,MAAK,QACAG,WAAK,MACPC,YAAQ,UACJE,MAAF,SACLC,MAAK,UACES,SAAC,SACFC,iBAAU,sBAIP,IAAIP,u/CAAoBvC,QAAQgB,EAAI,UDlB/C+B,IAGF1B,OAAOI,UAAS,KACdL,KAGF,MAAMJ,EAAI,CACR0B,SAAQ,cACGD,iBAAOpB,OAAOoB,iBACzBE,KAAI,OACAb,MAAC,CACHD,MAAK,QACAgB,SAAG,UAEJD,OAAA,QACNnB,UAAWJ,OAAOI,WAGP,IAAIc,0vBAAoBvC,QAAQgB,EAAI,UExB5C,MAAMgC,EAAI,KACfxB,KAKFH,OAAO4B,OAASD","sources":["src/assets/utils/utils.js","src/assets/utils/Templator.js","src/assets/modules/messages/messages.js","src/assets/modules/profile/profile.js","src/assets/modules/auth/auth.js","src/assets/modules/register/register.js","src/index.js"],"sourcesContent":["export const getObjValue = (obj, path) => {\n  const defaultValue = false\n  const keys = path.split('.')\n\n  let result = obj\n  for (let key of keys) {\n    result = result[key]\n\n    if (result === undefined) {\n      return defaultValue\n    }\n  }\n\n  return result ?? defaultValue\n}\n","import { getObjValue } from '../utils/utils'\n\nexport default class Templator {\n  TEMP_REGEX = /\\{\\{(.*?)\\}\\}/gi\n\n  constructor(template) {\n    this._template = template\n  }\n\n  compile(ctx, element) {\n    return this._apply(ctx, element)\n  }\n\n  _apply = (ctx, element) => {\n    const root = document.querySelector(element)\n    const tmpl = this._compileTemplate(ctx)\n    root.innerHTML = ''\n\n    root.insertAdjacentHTML('beforeend', tmpl)\n  }\n\n  _compileTemplate = (ctx) => {\n    let tmpl = this._template\n    let key = null\n    const regExp = this.TEMP_REGEX\n\n    while ((key = regExp.exec(tmpl))) {\n      if (key[1]) {\n        const tmplValue = key[1].trim()\n        const data = getObjValue(ctx, tmplValue)\n        const replaceValue =\n          typeof data === 'function' ? `${tmplValue}()` : data\n\n        tmpl = tmpl.replace(new RegExp(key[0], 'gi'), replaceValue)\n      }\n    }\n\n    return tmpl\n  }\n}\n","import Templator from '../../utils/Templator'\nimport { messagesTemplate } from './messages.tmpl'\nimport profile from '../profile/profile'\n\nexport default () => {\n  const template = messagesTemplate()\n\n  window.openProfile = () => {\n    profile()\n  }\n\n  const data = {\n    openProfile: window.openProfile,\n  }\n\n  const tmpl = new Templator(template).compile(data, '.root')\n}\n","import Templator from '../../utils/Templator'\nimport auth from '../auth/auth'\nimport messages from '../messages/messages'\nimport { profileTemplate } from './profile.tmpl'\n\nexport default () => {\n  const template = profileTemplate()\n\n  window.openAuthPage = () => {\n    auth()\n  }\n\n  window.openChats = () => {\n    messages()\n  }\n\n  const data = {\n    back: 'К чатам',\n    exit: 'Выйти',\n    openAuthPage: window.openAuthPage,\n    openChats: window.openChats,\n    avatar: '/',\n    login: {\n      label: 'Логин',\n      value: 'логи',\n    },\n    first_name: {\n      label: 'Имя',\n      value: 'The Doctor',\n    },\n    second_name: {\n      label: 'Фамилия',\n      value: 'фамилия',\n    },\n    display_name: {\n      label: 'Имя в чате',\n      value: 'The Doctor',\n    },\n    email: {\n      label: 'E-mail',\n      value: 'почта',\n    },\n    phone: {\n      label: 'Телефон',\n      value: '+7909090909',\n    },\n    changeProfile: 'Изменить профиль',\n    changePassword: 'Изменить пароль',\n  }\n\n  const tmpl = new Templator(template).compile(data, '.root')\n}\n","import Templator from '../../utils/Templator'\nimport { authTemplate } from './auth.tmpl'\nimport register from '../register/register'\nimport messages from '../messages/messages'\n\nexport default () => {\n  const template = authTemplate()\n\n  window.openRegisterPage = () => {\n    register()\n  }\n\n  window.openChats = () => {\n    messages()\n  }\n\n  const data = {\n    register: 'Регистрация',\n    openRegisterPage: window.openRegisterPage,\n    auth: 'Вход',\n    label: {\n      login: 'Логин',\n      password: 'Пароль',\n    },\n    button: 'Войти',\n    openChats: window.openChats,\n  }\n\n  const tmpl = new Templator(template).compile(data, '.root')\n}\n","import Templator from '../../utils/Templator'\nimport { registerTemplate } from './register.tmpl'\nimport auth from '../auth/auth'\n\nexport default () => {\n  const template = registerTemplate()\n\n  window.openAuthPage = () => {\n    auth()\n  }\n\n  const data = {\n    register: 'Регистрация',\n    auth: 'Вход',\n    button: 'Зарегистрироваться',\n    openAuthPage: window.openAuthPage,\n    label: {\n      login: 'Логин',\n      first_name: 'Имя',\n      second_name: 'Фамилия',\n      email: 'e-mail',\n      phone: 'Телефон',\n      password: 'Пароль',\n      passConfirmation: 'Пароль (повторно)',\n    },\n  }\n\n  const tmpl = new Templator(template).compile(data, '.root')\n}\n","import auth from './assets/modules/auth/auth'\nimport profilePage from './assets/modules/profile/profile'\nimport errorPage from './assets/modules/error/error'\n\nexport const init = () => {\n  auth()\n  // profilePage()\n  // errorPage()\n}\n\nwindow.onload = init\n"],"names":["$a313edf0b43bf362$export$c465d4fbe40946c5","obj","path","keys","split","result","key","undefined","TEMP_REGEX","template","_template","compile","ctx","element","_apply","root","document","querySelector","tmpl","this","_compileTemplate","innerHTML","insertAdjacentHTML","regExp","exec","tmplValue","trim","data","replaceValue","replace","RegExp","$d7c0294ea5370baa$export$9099ad97b570f7c","window","openProfile","openAuthPage","$96fa0c1ca96c9fad$export$9099ad97b570f7c","openChats","back","exit","avatar","login","label","value","first_name","second_name","display_name","email","phone","changeProfile","changePassword","$670f6fba59be14a9$export$9099ad97b570f7c","$3965b64b9fb634c2$export$9099ad97b570f7c","openRegisterPage","register","auth","button","password","passConfirmation","$b108334c146f155e$export$9099ad97b570f7c","$73a1f9491a5c1727$export$8e9f59652b1cad73","onload"],"version":3,"file":"index.js.map","sourceRoot":"/"}